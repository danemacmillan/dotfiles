
# Stop processing modules if no module config available
if [[ -z $DOTFILES_CONFIG_MODULES ]]; then
	return
fi

olddir=`pwd`

for i in ${DOTFILES_CONFIG_MODULES[@]}; do
	cd ~/.dotfiles/.modules
	modname=`echo ${i}|awk -F: '{ print $NF}'|awk -F/ '{ print $NF}'|awk -F. '{ print $1}'`
	if [ -d $modname ]; then
		echo "${GREEN}Checking for updates to module $modname...${RESET}"
		cd $modname && git pull
	else
		echo "${GREEN}Installing module $modname...${RESET}"
		git clone ${i}
	fi
done

cd $olddir
